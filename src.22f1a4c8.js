parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"siWZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,i,o,s,n){void 0===i&&(i=1),void 0===o&&(o="#000"),void 0===s&&(s="#000"),void 0===n&&(n=4),this.name=t,this.unit=i,this.fill=o,this.stroke=s,this.lineWidth=n,this.rotationPos=1,this.isFlipped=!1}return t.prototype.draw=function(t){for(var i in t.lineWidth=this.lineWidth,t.beginPath(),t.moveTo(this.points.p1.x,this.points.p1.y),this.points)t.lineTo(this.points[i].x,this.points[i].y);t.closePath(),t.fillStyle=this.fill,t.strokeStyle=this.stroke,t.fill(),t.stroke()},t.prototype.updateCentroid=function(){var t=0,i=0,o=Object.keys(this.points).length;for(var s in this.points)t+=this.points[s].x,i+=this.points[s].y;this.centroid={x:t/o,y:i/o}},t.prototype.translate=function(t){for(var i in this.points)this.points[i].x+=t.x,this.points[i].y+=t.y;this.updateCentroid()},t.prototype.moveTo=function(t){var i=t.x-this.points.p1.x,o=t.y-this.points.p1.y;for(var s in this.points)this.points[s].x+=i,this.points[s].y+=o;this.updateCentroid()},t.prototype.increaseRotPos=function(){8===this.rotationPos?this.rotationPos=1:this.rotationPos++},t.prototype.rotate=function(t){var i=this,o=function(o){return{x:(o.x-i.centroid.x)*Math.cos(t)+(o.y-i.centroid.y)*Math.sin(t)+i.centroid.x,y:-(o.x-i.centroid.x)*Math.sin(t)+(o.y-i.centroid.y)*Math.cos(t)+i.centroid.y}};for(var s in this.points)this.points[s]=o(this.points[s])},t.prototype.flip=function(t,i){var o=this.centroid.x;this.points.p1.x=o*t-(i.p1.x*t-o),this.points.p2.x=o*t-(i.p2.x*t-o),this.points.p3.x=o*t-(i.p3.x*t-o),"p4"in this.points&&(this.points.p4.x=o*t-(i.p4.x*t-o))},t}();exports.default=t;
},{}],"yglc":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("./TanObject")),n=function(e){function r(t,r,n){var o=e.call(this,t,r,n)||this;return o.points={p1:{x:0,y:0},p2:{x:0,y:r},p3:{x:r/2,y:r/2}},o.updateCentroid(),o}return t(r,e),r}(r.default);exports.default=n;
},{"./TanObject":"siWZ"}],"Du5M":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("./TanObject")),n=function(e){function r(t,r,n){var o=e.call(this,t,r,n)||this;return o.points={p1:{x:r/4,y:0},p2:{x:0,y:r/4},p3:{x:r/4,y:r/2},p4:{x:r/2,y:r/4}},o.updateCentroid(),o}return t(r,e),r}(r.default);exports.default=n;
},{"./TanObject":"siWZ"}],"cqiq":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var r=e(require("./TanObject")),n=function(e){function r(t,r,n){var o=e.call(this,t,r,n)||this,u=.25*r;return o.points={p1:{x:u,y:0},p2:{x:0,y:u},p3:{x:r/2,y:u},p4:{x:u+r/2,y:0}},o.updateCentroid(),o}return t(r,e),r}(r.default);exports.default=n;
},{"./TanObject":"siWZ"}],"g5IB":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"XCsw":[function(require,module,exports) {
var define;
var global = arguments[3];
var process = require("process");
var t,e=arguments[3],r=require("process");!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof t&&t.amd?t(["exports"],r):r((e=e||self).TWEEN={})}(this,function(t){"use strict";function n(t){var e=c.indexOf(t);-1<e&&c.splice(e,1),c.push(t),_=0,y&&!p&&(a=d(T),p=!0)}function i(t){for(var e=0;e<c.length;e++)if(t===c[e])return c[e];return null}function o(){return p}function s(){return g}var a,u="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:this||(void 0!==t?t:{}),f=u.requestAnimationFrame||function(t){return u.setTimeout(t,50/3)},l=u.cancelAnimationFrame||function(t){return u.clearTimeout(t)},h=function(){if(void 0===r||void 0===r.hrtime||r.versions&&void 0!==r.versions.electron){if(void 0!==u.performance&&void 0!==u.performance.now)return u.performance.now.bind(u.performance);var t=u.performance&&u.performance.timing&&u.performance.timing.navigationStart?u.performance.timing.navigationStart:Date.now();return function(){return Date.now()-t}}return function(){var t=r.hrtime();return 1e3*t[0]+t[1]/1e6}}(),c=[],p=!1,y=!1,v=[],d=f,_=0,m=120,g=!0,b=function(t){var e=c.indexOf(t);-1!==e&&c.splice(e,1),0===c.length&&(l(a),p=!1)},T=function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:h(),r=1<arguments.length?arguments[1]:void 0;if(m<=_&&g)return p=!1,_=0,l(a),!1;y&&p?a=d(t):function(){for(var t=0;t<v.length;t++)v[t]()}(),c.length||_++;for(var n=0,i=c.length;n<i;)c[n++].update(e,r),i>c.length&&n--,i=c.length;return!0},w={},k={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return Math.pow(t,2)},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,2):-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return Math.pow(t,3)},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,3):.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return Math.pow(t,4)},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,4):-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return Math.pow(t,5)},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,5):.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){return t*t*(2.70158*t-1.70158)},Out:function(t){return--t*t*(2.70158*t+1.70158)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((1+e)*t-e)*.5:.5*((t-=2)*t*((1+e)*t+e)+2)}},Bounce:{In:function(t){return 1-k.Bounce.Out(1-t)},Out:function(t){var e=2.75,r=7.5625;return t<1/e?r*t*t:t<2/e?r*(t-=1.5/e)*t+.75:t<2.5/e?r*(t-=2.25/e)*t+.9375:r*(t-=2.625/e)*t+.984375},InOut:function(t){return t<.5?.5*k.Bounce.In(2*t):.5*k.Bounce.Out(2*t-1)+.5}},Stepped:{steps:function(t){return function(e){return(e*t|0)/t}}}};function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function j(t,e,r){return e&&S(t.prototype,e),r&&S(t,r),t}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){var n,i,o;n=t,o=r[i=e],i in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o})}return t}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?R(t):e}function L(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){i=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var F=50/3,x="_chainedTweens",C="Callback",N="update",q="complete",D="start",U="repeat",V="reverse",B="restart",G="STRING_PROP",z=/\s+|([A-Za-z?().,{}:""[\]#%]+)|([-+]=+)?([-+]+)?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]=?\d+)?/g;function Q(t){if(t&&t.nodeType||void 0===t||"object"!==O(t))return t;if(Array.isArray(t))return[].concat(t);if("object"!==O(t))return t;var e={};for(var r in t)e[r]=Q(t[r]);return e}var K=function(t){return isNaN(+t)||("+"===t[0]||"-"===t[0])&&"="===t[1]||""===t||" "===t},W=/^#([0-9a-f]{6}|[0-9a-f]{3})$/gi,H=function(t,e){var r,n,i;3===e.length&&(e=(r=e[0])+r+(n=e[1])+n+(i=e[2])+i);var o=parseInt(e,16);return"rgb("+(r=o>>16&255)+", "+(n=o>>8&255)+", "+(i=255&o)+")"};function X(t){if(t&&t.splice&&t.isString)return t;if("string"!=typeof t)return t;if("="===t.charAt(1))return t;var e=t.replace(W,H).match(z).map(function(t){return K(t)?t:+t});return e.isString=!0,e}function Y(t,e,r,n){var i=r[t],o=n[t];if(i===o)return!0;if(Array.isArray(i)&&Array.isArray(o)&&i.length===o.length)for(var s=0,a=o.length;s<a;s++){var u=i[s],f=o[s];u===f||"number"==typeof u&&"number"==typeof f||Y(s,e[t],i,o)}if("number"==typeof i&&"number"==typeof o);else if(i&&i.splice&&i.isString&&o&&o.splice&&o.isString);else{if("string"==typeof i&&Array.isArray(o)){var l=X(i),h=o.map(X);return r[t]=l,n[t]=h,!0}if("string"==typeof i||"string"==typeof o){var c=Array.isArray(i)&&i[0]===G?i:X(i),p=Array.isArray(o)&&o[0]===G?o:X(o);if(void 0===c)return;for(var y=1;y<c.length;)c[y]===p[y]&&"string"==typeof c[y-1]?(c.splice(y-1,2,c[y-1]+c[y]),p.splice(y-1,2,p[y-1]+p[y])):y++;return c[y=0]===G&&c.shift(),p[0]===G&&p.shift(),r[t]=c,n[t]=p,!0}if("object"===O(i)&&"object"===O(o)){if(Array.isArray(i)&&!i.isString)return i.map(function(r,n){return Y(n,e[t],i,o)});for(var v in o)Y(v,e[t],i,o);return!0}}return!1}var Z="rgba(",$=function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"rgb(";return"number"==typeof t[e]&&(t[e-1]===r||t[e-3]===r||t[e-5]===r)};function J(t,e,r,n,i,o,s){var a=s?r:r[t],u=s?n:n[t];if(void 0===u)return a;if(void 0===a||"string"==typeof a||a===u)return u;if("object"===O(a)&&"object"===O(u)){if(!a||!u)return e[t];if("object"===O(a)&&a&&a.isString&&u&&u.splice&&u.isString){for(var f="",l=0,h=a.length;l<h;l++)if(a[l]!==u[l]||"number"!=typeof a[l]||"number"==typeof u[l]){var c="number"==typeof a[l]&&"string"==typeof u[l]&&"="===u[l][1],p="number"!=typeof a[l]?a[l]:c?a[l]+parseFloat(u[l][0]+u[l].substr(2))*i:a[l]+(u[l]-a[l])*i;($(a,l)||$(a,l,Z))&&(p|=0),f+=p,c&&1===o&&(a[l]=a[l]+parseFloat(u[l][0]+u[l].substr(2)))}else f+=a[l];return s||(e[t]=f),f}if(Array.isArray(a)&&a[0]!==G)for(var y=0,v=a.length;y<v;y++)a[y]!==u[y]&&"string"!=typeof e[t]&&J(y,e[t],a,u,i,o);else if("object"===O(a)&&a&&!a.isString)for(var d in a)a[d]!==u[d]&&J(d,e[t],a,u,i,o)}else if("number"==typeof a){var _="string"==typeof u;e[t]=_?a+parseFloat(u[0]+u.substr(2))*i:a+(u-a)*i,_&&1===o&&(r[t]=e[t])}else"function"==typeof u&&(e[t]=u(i));return e[t]}function tt(t,e){var r=t[e],n=e.replace(it,"").split(nt),i=n.length-1,o=Array.isArray(t),s="object"===O(t)&&!o;return s?(t[e]=null,delete t[e]):o&&t.splice(e,1),n.reduce(function(t,e,a){o&&"."!==e&&"["!==e&&(e*=1);var u="["===n[a+1];if("."===e||"["===e)return"."===e?o=!(s=!0):"["===e&&(o=!(s=!1)),t;if(void 0===t[e]){if(o||s)return t[e]=a===i?r:o||u?[]:s?{}:null,s=o=!1,t[e]}else if(void 0!==t[e])return a===i&&(t[e]=r),t[e];return t},t)}function et(t){if("object"===O(t)&&t)for(var e in t)if(-1!==e.indexOf(".")||-1!==e.indexOf("["))tt(t,e);else if("object"===O(t[e])&&t[e]){var r=t[e];for(var n in r)if(-1!==n.indexOf(".")||-1!==n.indexOf("["))tt(r,n);else if("object"===O(r[n])&&r[n]){var i=r[n];for(var o in i)-1===o.indexOf(".")&&-1===o.indexOf("[")||tt(i,o)}}return t}var rt,nt=/([.[])/g,it=/\]/g,ot=Object.freeze({FRAME_MS:F,TOO_LONG_FRAME_MS:250,CHAINED_TWEENS:x,EVENT_CALLBACK:C,EVENT_UPDATE:N,EVENT_COMPLETE:q,EVENT_START:D,EVENT_REPEAT:U,EVENT_REVERSE:V,EVENT_PAUSE:"pause",EVENT_PLAY:"play",EVENT_RESTART:B,EVENT_STOP:"stop",EVENT_SEEK:"seek",STRING_PROP:G,NUM_REGEX:z,deepCopy:Q,decomposeString:X,decompose:Y,RGB:"rgb(",RGBA:Z,isRGBColor:$,recompose:J,SET_NESTED:et}),st={Linear:function(t,e,r){var n=t.length-1,i=n*e,o=Math.floor(i),s=st.Utils.Linear;return e<0?s(t[0],t[1],i,r):1<e?s(t[n],t[n-1],n-i,r):s(t[o],t[n<o+1?n:o+1],i-o,r)},Bezier:function(t,e,r){for(var n=st.Utils.Reset(r),i=t.length-1,o=Math.pow,s=st.Utils.Bernstein,a=Array.isArray(n),u=0;u<=i;u++)if("number"==typeof n)n+=o(1-e,i-u)*o(e,u)*t[u]*s(i,u);else if(a)for(var f=0,l=n.length;f<l;f++)"number"==typeof n[f]?n[f]+=o(1-e,i-u)*o(e,u)*t[u][f]*s(i,u):n[f]=t[u][f];else if("object"===O(n))for(var h in n)"number"==typeof n[h]?n[h]+=o(1-e,i-u)*o(e,u)*t[u][h]*s(i,u):n[h]=t[u][h];else if("string"==typeof n){for(var c="",p=t[Math.round(i*e)],y=1,v=p.length;y<v;y++)c+=p[y];return c}return n},CatmullRom:function(t,e,r){var n=t.length-1,i=n*e,o=Math.floor(i),s=st.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(o=Math.floor(i=n*(1+e))),s(t[(o-1+n)%n],t[o],t[(o+1)%n],t[(o+2)%n],i-o,r)):e<0?s(t[1],t[1],t[0],t[0],-e,r):1<e?s(t[n-1],t[n-1],t[n],t[n],(0|e)-e,r):s(t[o?o-1:0],t[o],t[n<o+1?n:o+1],t[n<o+2?n:o+2],i-o,r)},Utils:{Linear:function(t,e,r,n){if(t===e||"string"==typeof t){if(e.length&&e.splice&&e.isString){e="";for(var i=0,o=t.length;i<o;i++)e+=t[i]}return e}if("number"==typeof t)return"function"==typeof t?t(r):t+(e-t)*r;if("object"===O(t)){if(void 0!==t.length){var s="string"==typeof t[0]||t.isString;if(s||t[0]===G){for(var a="",u=s?0:1,f=t.length;u<f;u++){var l=0===r?t[u]:1===r?e[u]:"number"==typeof t[u]?t[u]+(e[u]-t[u])*r:e[u];(0<r&&r<1&&$(t,u)||$(t,u,Z))&&(l|=0),a+=l}return a}if(n&&n.length&&n.splice)for(var h=0,c=n.length;h<c;h++)n[h]=st.Utils.Linear(t[h],e[h],r,n[h])}else for(var p in n)n[p]=st.Utils.Linear(t[p],e[p],r,n[p]);return n}},Reset:function(t){if(Array.isArray(t)){for(var e=0,r=t.length;e<r;e++)t[e]=st.Utils.Reset(t[e]);return t}if("object"!==O(t))return"number"==typeof t?0:t;for(var n in t)t[n]=st.Utils.Reset(t[n]);return t},Bernstein:function(t,e){var r=st.Utils.Factorial;return r(t)/r(e)/r(t-e)},Factorial:(rt=[1],function(t){var e=1;if(rt[t])return rt[t];for(var r=t;1<r;r--)e*=r;return rt[t]=e}),CatmullRom:function(t,e,r,n,i,o){if("string"==typeof t)return e;if("number"==typeof t){var s=.5*(r-t),a=.5*(n-e),u=i*i;return(2*e-2*r+s+a)*(i*u)+(-3*e+3*r-2*s-a)*u+s*i+e}if("object"===O(t)){if(void 0!==t.length){if(t[0]===G){for(var f="",l=1,h=t.length;l<h;l++){var c="number"==typeof t[l]?st.Utils.CatmullRom(t[l],e[l],r[l],n[l],i):n[l];($(t,l)||$(t,l,Z))&&(c|=0),f+=c}return f}for(var p=0,y=o.length;p<y;p++)o[p]=st.Utils.CatmullRom(t[p],e[p],r[p],n[p],i,o[p])}else for(var v in o)o[v]=st.Utils.CatmullRom(t[v],e[v],r[v],n[v],i,o[v]);return o}}}},at={};function ut(t,e,r){if(!t||!t.nodeType)return e;var n=t.queueID||"q_"+Date.now();t.queueID||(t.queueID=n);var i=at[n];if(i){if(i.object===e&&t===i.tween.node&&r._startTime===i.tween._startTime)b(i.tween);else if("object"===O(e)&&e&&i.object){for(var o in e)o in i.object&&(r._startTime===i.tween._startTime?delete i.object[o]:i.propNormaliseRequired=!0);Object.assign(i.object,e)}return i.object}return"object"===O(e)&&e?(at[n]={tween:r,object:e,propNormaliseRequired:!1},at[n].object):e}function ft(t,e,r){return e?t?"undefined"!=typeof window&&t===window||"undefined"!=typeof document&&t===document?[t]:"string"==typeof t?!!document.querySelectorAll&&document.querySelectorAll(t):Array.isArray(t)?t:t.nodeType?[t]:r?t:[]:null:t?"undefined"!=typeof window&&t===window||"undefined"!=typeof document&&t===document?t:"string"==typeof t?!!document.querySelector&&document.querySelector(t):Array.isArray(t)?t[0]:t.nodeType?t:r?t:null:null}var lt=0,ht=k.Linear.None,ct=function(){function t(e,r){return A(this,t),this.id=lt++,!e||"object"!==O(e)||r||e.nodeType?e&&(e.nodeType||e.length||"string"==typeof e)&&(e=this.node=ft(e),r=this.object=ut(e,r,this)):(r=this.object=e,e=null),this._valuesEnd=null,this._valuesStart=Array.isArray(r)?[]:{},this._duration=1e3,this._easingFunction=ht,this._easingReverse=ht,this._interpolationFunction=st.Linear,this._startTime=0,this._initTime=0,this._delayTime=0,this._repeat=0,this._r=0,this._isPlaying=!1,this._yoyo=!1,this._reversed=!1,this._onStartCallbackFired=!1,this._pausedTime=null,this._isFinite=!0,this._maxListener=15,this._chainedTweensCount=0,this._prevTime=null,this}return j(t,null,[{key:"fromTo",value:function(e,r,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};i.quickRender=i.quickRender?i.quickRender:!n;var o=new t(e,r).to(n,i);return i.quickRender&&(o.render().update(o._startTime),o._rendered=!1,o._onStartCallbackFired=!1),o}},{key:"to",value:function(e,r,n){return t.fromTo(e,null,r,n)}},{key:"from",value:function(e,r,n){return t.fromTo(e,r,null,n)}}]),j(t,[{key:"setMaxListener",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:15;return this._maxListener=t,this}},{key:"on",value:function(t,e){for(var r=this._maxListener,n=t+C,i=0;i<r;i++){var o=n+i;if(!this[o]){this[o]=e;break}}return this}},{key:"once",value:function(t,e){for(var r=this,n=this._maxListener,i=t+C,o=function(t){var n=i+t;if(!r[n])return r[n]=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];e.apply(r,i),r[n]=null},"break"},s=0;s<n&&"break"!==o(s);s++);return this}},{key:"off",value:function(t,e){for(var r=this._maxListener,n=t+C,i=0;i<r;i++){var o=n+i;this[o]===e&&(this[o]=null)}return this}},{key:"emit",value:function(t,e,r,n){var i=this._maxListener,o=t+C;if(!this[o+0])return this;for(var s=0;s<i;s++){var a=o+s;this[a]&&this[a](e,r,n)}return this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"isStarted",value:function(){return this._onStartCallbackFired}},{key:"reverse",value:function(t){var e=this._reversed;return this._reversed=void 0!==t?t:!e,this}},{key:"reversed",value:function(){return this._reversed}},{key:"pause",value:function(){return this._isPlaying?(this._isPlaying=!1,b(this),this._pausedTime=h(),this.emit("pause",this.object)):this}},{key:"play",value:function(){return this._isPlaying?this:(this._isPlaying=!0,this._startTime+=h()-this._pausedTime,this._initTime=this._startTime,n(this),this._pausedTime=h(),this.emit("play",this.object))}},{key:"restart",value:function(t){return this._repeat=this._r,this.reassignValues(),n(this),this.emit(B,this.object)}},{key:"seek",value:function(t,e){var r=this._duration,n=this._initTime,i=this._startTime,o=this._reversed,s=n+t;return this._isPlaying=!0,s<i&&n<=i&&(this._startTime-=r,this._reversed=!o),this.update(t,!1),this.emit("seek",t,this.object),e?this:this.pause()}},{key:"duration",value:function(t){return this._duration="function"==typeof t?t(this._duration):t,this}},{key:"to",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3;if(this._valuesEnd=t,"number"==typeof e||"function"==typeof e)this._duration="function"==typeof e?e(this._duration):e;else if("object"===O(e))for(var r in e)if("function"==typeof this[r]){var n=L(Array.isArray(e[r])?e[r]:[e[r]],4),i=n[0],o=void 0===i?null:i,s=n[1],a=void 0===s?null:s,u=n[2],f=void 0===u?null:u,l=n[3],h=void 0===l?null:l;this[r](o,a,f,h)}return this}},{key:"render",value:function(){if(this._rendered)return this;var e=this._valuesStart,r=this._valuesEnd,n=this.object,i=this.node,o=this.InitialValues;if(et(n),et(r),i&&i.queueID&&at[i.queueID]){var s=at[i.queueID];if(s.propNormaliseRequired&&s.tween!==this){for(var a in r)s.tween._valuesEnd[a];s.normalisedProp=!0,s.propNormaliseRequired=!1}}if(i&&o&&(n&&0!==Object.keys(n).length?r&&0!==Object.keys(r).length||(r=this._valuesEnd=o(i,n)):n=this.object=ut(i,o(i,r),this)),!e.processed){for(var u in r){var f=n&&n[u]&&Q(n[u]),l=r[u];if(!(w[u]&&w[u].init&&(w[u].init.call(this,f,l,u,n),void 0===f&&e[u]&&(f=e[u]),w[u].skipProcess)||"number"==typeof f&&isNaN(f)||null===f||null===l||!1===f||!1===l||void 0===f||void 0===l||f===l)){if(e[u]=f,Array.isArray(l))if(Array.isArray(f))l.isString&&n[u].isString&&!f.isString?f.isString=!0:Y(u,n,e,r);else{l.unshift(f);for(var h=0,c=l.length;h<c;h++)"string"==typeof l[h]&&(l[h]=X(l[h]))}else Y(u,n,e,r);"number"!=typeof f||"string"!=typeof l||l[1]}}e.processed=!0}return t.Renderer&&this.node&&t.Renderer.init&&(t.Renderer.init.call(this,n,e,r),this.__render=!0),this._rendered=!0,this}},{key:"start",value:function(t){return this._startTime=void 0!==t?"string"==typeof t?h()+parseFloat(t):t:h(),this._startTime+=this._delayTime,this._initTime=this._prevTime=this._startTime,this._onStartCallbackFired=!1,this._rendered=!1,this._isPlaying=!0,n(this),this}},{key:"stop",value:function(){var t=this._isPlaying,e=this._isFinite,r=this.object,n=this._startTime,i=this._duration,o=this._r,s=this._yoyo,a=this._reversed;if(!t)return this;var u=e?(o+1)%2==1:!a;return this._reversed=!1,s&&u?this.update(n):this.update(n+i),b(this),this.emit("stop",r)}},{key:"delay",value:function(t){return this._delayTime="function"==typeof t?t(this._delayTime):t,this}},{key:"chainedTweens",value:function(){if(this._chainedTweensCount=arguments.length,!this._chainedTweensCount)return this;for(var t=0,e=this._chainedTweensCount;t<e;t++)this[x+t]=arguments[t];return this}},{key:"repeat",value:function(t){return this._repeat=this._duration?"function"==typeof t?t(this._repeat):t:0,this._r=this._repeat,this._isFinite=isFinite(t),this}},{key:"reverseDelay",value:function(t){return this._reverseDelayTime="function"==typeof t?t(this._reverseDelayTime):t,this}},{key:"yoyo",value:function(t,e){return this._yoyo="function"==typeof t?t(this._yoyo):null===t?this._yoyo:t,t||(this._reversed=!1),this._easingReverse=e||null,this}},{key:"easing",value:function(t){return this._easingFunction=t,this}},{key:"interpolation",value:function(t){return"function"==typeof t&&(this._interpolationFunction=t),this}},{key:"reassignValues",value:function(t){var e=this._valuesStart,r=this.object,i=this._delayTime;for(var o in this._isPlaying=!0,this._startTime=void 0!==t?t:h(),this._startTime+=i,this._reversed=!1,n(this),e){var s=e[o];r[o]=s}return this}},{key:"update",value:function(e,r,n){var i,a,u,f=this._onStartCallbackFired,l=this._easingFunction,c=this._interpolationFunction,p=this._easingReverse,y=this._repeat,v=this._delayTime,d=this._reverseDelayTime,_=this._yoyo,m=this._reversed,g=this._startTime,T=this._prevTime,k=this._duration,O=this._valuesStart,A=this._valuesEnd,S=this.object,j=this._isFinite,E=this._isPlaying,M=this.__render,P=this._chainedTweensCount,R=0;if(k){var I=(e=void 0!==e?e:h())-T;if(this._prevTime=e,250<I&&o()&&s()&&(e-=I-F),!E||e<g&&!n)return!0;i=1<(i=(e-g)/k)?1:i,i=m?1-i:i}else i=1,y=0;if(f||(this._rendered||(this.render(),this._rendered=!0),this.emit(D,S),this._onStartCallbackFired=!0),a=m&&p||l,!S)return!0;for(u in A){var L=O[u];if(null!=L||w[u]&&w[u].update){var C=A[u],B=a[u]?a[u](i):"function"==typeof a?a(i):ht(i),G=c[u]?c[u]:"function"==typeof c?c:st.Linear;"number"==typeof C?S[u]=L+(C-L)*B:!Array.isArray(C)||C.isString||Array.isArray(L)?C&&C.update?C.update(B):"function"==typeof C?S[u]=C(B):"string"==typeof C&&"number"==typeof L?S[u]=L+parseFloat(C[0]+C.substr(2))*B:J(u,S,O,A,B,i):S[u]=G(C,B,S[u]),w[u]&&w[u].update&&w[u].update.call(this,S[u],L,C,B,i,u),R++}}if(!R)return b(this),!1;if(M&&t.Renderer&&t.Renderer.update&&t.Renderer.update.call(this,S,i),this.emit(N,S,i,e),1===i||m&&0===i){if(0<y&&0<k){if(j&&this._repeat--,_)this._reversed=!m;else for(u in A){var z=A[u];"string"==typeof z&&"number"==typeof O[u]&&(O[u]+=parseFloat(z[0]+z.substr(2)))}return this.emit(_&&!m?V:U,S),this._startTime=m&&d?e-d:e+v,!0}if(r||(this._isPlaying=!1,b(this),lt--),this.emit(q,S),this._repeat=this._r,P)for(var Q=0;Q<P;Q++)this[x+Q].start(e+k);return!1}return!0}}]),t}(),pt=function(){function t(){A(this,t),this.totalTime=0,this.labels=[],this.offsets=[]}return j(t,[{key:"parseLabel",value:function(t,e){var r=this.offsets,n=this.labels,i=n.indexOf(t);if("string"==typeof t&&-1!==t.indexOf("=")&&!e&&-1===i){var o=t.substr(t.indexOf("=")-1,2),s=t.split(o);e=2===s.length?o+s[1]:null,t=s[0],i=n.indexOf(t)}if(-1!==i&&t){var a=r[i]||0;if("number"==typeof e)a=e;else if("string"==typeof e&&-1!==e.indexOf("=")){var u=e.charAt(0);e=Number(e.substr(2)),"+"===u||"-"===u?a+=parseFloat(u+e):"*"===u?a*=e:"/"===u?a/=e:"%"===u&&(a*=e/100)}return a}return"number"==typeof e?e:0}},{key:"addLabel",value:function(t,e){return this.labels.push(t),this.offsets.push(this.parseLabel(t,e)),this}},{key:"setLabel",value:function(t,e){var r=this.labels.indexOf(t);return-1!==r&&this.offsets.splice(r,1,this.parseLabel(t,e)),this}},{key:"eraseLabel",value:function(t){var e=this.labels.indexOf(t);return-1!==e&&(this.labels.splice(e,1),this.offsets.splice(e,1)),this}}]),t}(),yt=0,vt=function(t){function e(t){var r;return A(this,e),(r=I(this,M(e).call(this)))._duration=0,r._startTime=t&&void 0!==t.startTime?t.startTime:h(),r._tweens=[],r.elapsed=0,r._id=yt++,r._defaultParams=t,r.position=new pt,r.position.addLabel("afterLast",r._duration),r.position.addLabel("afterInit",r._startTime),r._onStartCallbackFired=!1,I(r,R(r))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(e,ct),j(e,[{key:"mapTotal",value:function(t){return t.call(this,this._tweens),this}},{key:"timingOrder",value:function(t){var e=t(this._tweens.map(function(t){return t._startTime}));return this._tweens.map(function(t,r){t._startTime=e[r]}),this}},{key:"getTiming",value:function(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if("reverse"===t){var i=r.stagger,o=(i||0)*(e.length-1);return e.map(function(t,e){return o-(i||0)*e+n})}if("async"===t)return e.map(function(t){return n});if("sequence"===t||"delayed"===t){var s=r.stagger;return s||(s=(r.duration||1e3)/(e.length-1)),e.map(function(t,e){return s*e+n})}if("oneByOne"===t)return e.map(function(t){return r.duration});if("shuffle"===t){var a=r.stagger;return function(t){var e,r,n;for(n=t.length;n;n-=1)e=Math.floor(Math.random()*n),r=t[n-1],t[n-1]=t[e],t[e]=r;return t}(e.map(function(t,e){return(a||0)*e+n}))}var u=r.stagger;return e.map(function(t,e){return(u||0)*e+n})}},{key:"fromTo",value:function(t,e,r,n){if((t=ft(t,!0,!0))&&t.length){this._defaultParams&&(n=n?E({},this._defaultParams,n):this._defaultParams);for(var i,o=n.label,s="number"==typeof o?o:this.position.parseLabel(void 0!==o?o:"afterLast",null),a=this.getTiming(n.mode,t,n,s),u=0,f=t.length;u<f;u++)i=t[u],this.add(ct.fromTo(i,"function"==typeof e?e(u,t.length):"object"===O(e)&&e?E({},e):null,"function"==typeof r?r(u,t.length):r,"function"==typeof n?n(u,t.length):n),a[u])}return this.start()}},{key:"from",value:function(t,e,r){return this.fromTo(t,e,null,r)}},{key:"to",value:function(t,e,r){return this.fromTo(t,null,e,r)}},{key:"addLabel",value:function(t,e){return this.position.addLabel(t,e),this}},{key:"map",value:function(t){for(var e=0,r=this._tweens.length;e<r;e++){var n=this._tweens[e];t(n,e),this._duration=Math.max(this._duration,n._duration+n._startTime)}return this}},{key:"add",value:function(t,e){var r=this;if(Array.isArray(t))return t.map(function(t){r.add(t,e)}),this;"object"!==O(t)||t instanceof ct||(t=new ct(t.from).to(t.to,t));var n=this._defaultParams,i=this._duration;if(n)for(var o in n)"function"==typeof t[o]&&t[o](n[o]);var s="number"==typeof e?e:this.position.parseLabel(void 0!==e?e:"afterLast",null);return t._startTime=Math.max(this._startTime,t._delayTime,s),t._delayTime=s,t._isPlaying=!0,this._duration=Math.max(i,Math.max(t._startTime+t._delayTime,t._duration)),this._tweens.push(t),this.position.setLabel("afterLast",this._duration),this}},{key:"restart",value:function(){return this._startTime+=h(),n(this),this.emit(B)}},{key:"easing",value:function(t){return this.map(function(e){return e.easing(t)})}},{key:"interpolation",value:function(t){return this.map(function(e){return e.interpolation(t)})}},{key:"update",value:function(t){var e,r=this._tweens,n=this._duration,i=this._reverseDelayTime,a=this._startTime,u=this._reversed,f=this._yoyo,l=this._repeat,c=this._isFinite,p=this._isPlaying,y=this._prevTime,v=this._onStartCallbackFired,d=(t=void 0!==t?t:h())-y;if(this._prevTime=t,250<d&&o()&&s()&&(t-=d-F),!p||t<a)return!0;e=1<(e=(t-a)/n)?1:e,e=u?1-e:e,this.elapsed=e,v||(this.emit(D),this._onStartCallbackFired=!0);for(var _=t-a,m=u?n-_:_,g=0;g<r.length;)r[g].update(m),g++;if(this.emit(N,e,_),1===e||u&&0===e){if(l){for(c&&this._repeat--,this.emit(u?V:U),f&&(this._reversed=!u,this.timingOrder(function(t){return t.reverse()})),this._startTime=u&&i?t+i:t,g=0;g<r.length;)r[g].reassignValues(t),g++;return!0}return this.emit(q),this._repeat=this._r,b(this),this._isPlaying=!1}return!0}},{key:"progress",value:function(t){return void 0!==t?this.update(t*this._duration):this.elapsed}}]),e}();t.Easing=k,t.FrameThrottle=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:120;m=1.05*t},t.Interpolation=st,t.Interpolator=function(t,e){var r=Array.isArray(t)&&!t.isString,n="string"==typeof t?t:r?t.slice():E({},t);if(r)for(var i=0,o=t.length;i<o;i++)t[i]===e[i]&&"number"==typeof t[i]&&"number"!=typeof e[i]||Y(i,n,t,e);else if("object"===O(t))for(var s in t)t[s]===e[s]&&"number"==typeof t[s]&&"number"!=typeof e[s]||Y(s,n,t,e);else if("string"==typeof t){t=X(t),e=X(e);for(var a=1;a<t.length;)t[a]===e[a]&&"string"==typeof t[a-1]?(t.splice(a-1,2,t[a-1]+t[a]),e.splice(a-1,2,e[a-1]+e[a])):a++}return function(i){if(r)for(var o=0,s=t.length;o<s;o++)J(o,n,t,e,i);else if("object"===O(n))for(var a in t)J(a,n,t,e,i);else"string"==typeof n&&(n=J(0,0,t,e,i,i,!0));return n}},t.Plugins=w,t.Selector=ft,t.Timeline=vt,t.ToggleLagSmoothing=function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];g=t},t.Tween=ct,t.add=n,t.autoPlay=function(t){y=t},t.get=i,t.getAll=function(){return c},t.has=function(t){return null!==i(t)},t.isRunning=o,t.now=h,t.onRequestTick=function(t){v.push(t)},t.onTick=function(t){return c.push({update:t})},t.remove=b,t.removeAll=function(){c.length=0,l(a),p=!1},t.update=T,t.utils=ot,Object.defineProperty(t,"__esModule",{value:!0})});
},{"process":"g5IB"}],"D6Wl":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||function(){return(t=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var n=e(require("./BaseTriangle")),a=e(require("./Square")),i=e(require("./Parallel")),s=require("es6-tween"),o=function(){function e(t,e){var n=this;this.shapes=[],this.selDistToShps=[],this.isAnimating=!1,this.initialLayout=[],this.animate=function(t){n.ctx.clearRect(0,0,n.canvas.width,n.canvas.height),n.drawObjects(),s.update(t),requestAnimationFrame(n.animate)},this.dpi=window.devicePixelRatio,void 0!==window.orientation&&(this.dpi=2),this.canvas=t,this.canvas.width=document.documentElement.clientWidth*this.dpi,this.canvas.height=document.documentElement.clientHeight*this.dpi,this.ctx=this.canvas.getContext("2d"),this.unit=e}return e.prototype.initGame=function(){this.canvas.oncontextmenu=function(t){return t.preventDefault()},this.setCanvasSize(),this.setHandlers(),this.createTamObjects(),this.setInitialLayout(),this.drawObjects()},e.prototype.setCanvasSize=function(){this.canvas.width=document.documentElement.clientWidth*this.dpi,this.canvas.height=document.documentElement.clientHeight*this.dpi},e.prototype.setHandlers=function(){var t,e,n=this,a=!1,i=0,s=null,o=void 0!==window.ontouchstart;this.canvas.addEventListener(o?"touchstart":"mousedown",function(e){var o;if(function(t){var e={x:t.clientX*n.dpi,y:t.clientY*n.dpi},a=n.ctx.getImageData(e.x,e.y,1,1).data,i="rgb("+a[0]+", "+a[1]+", "+a[2]+")";return n.shapes.forEach(function(t,e){if(i===t.fill)n.selShpIndex=e;else if("rgb(0, 0, 0)"===i)return n.selShpIndex=null,!1}),n.shapes.forEach(function(t){t.stroke="black",t.draw(n.ctx)}),null!==n.selShpIndex&&(n.shapes.push(n.shapes.splice(n.selShpIndex,1)[0]),n.selShpIndex=n.shapes.length-1,n.shapes[n.selShpIndex].stroke="red",n.shapes[n.selShpIndex].draw(n.ctx)),!0}(o="touchstart"==e.type?e.touches[0]:e)){var r=n.shapes[n.selShpIndex];s=setTimeout(function(){n.animFlipShape([{shape:r}],300)},500),null!==n.selShpIndex&&(t={x:o.clientX*n.dpi,y:o.clientY*n.dpi},a=!0);var h=(new Date).getTime(),u=h-i;u<300&&u>0&&null!==n.selShpIndex&&n.animRotShape([{shape:r,rotPos:r.rotationPos+1===9?1:r.rotationPos+1}]),i=h}}),this.canvas.addEventListener(o?"touchmove":"mousemove",function(i){if(!n.isAnimating){s&&(clearTimeout(s),s=null);var o=void 0;o="touchmove"==i.type?i.touches[0]:i,a&&(e={x:o.clientX*n.dpi,y:o.clientY*n.dpi},n.shapes[n.selShpIndex].translate({x:e.x-t.x,y:e.y-t.y}),t=e,n.ctx.clearRect(0,0,n.canvas.width,n.canvas.height),n.drawObjects())}}),this.canvas.addEventListener(o?"touchend":"mouseup",function(){s&&(clearTimeout(s),s=null),a&&(a=!1,console.log(n.shapes[n.selShpIndex].rotationPos),n.selShpIndex=null,n.shapes.forEach(function(t){t.stroke="black",t.lineWidth=4}),n.drawObjects())})},e.prototype.createTamObjects=function(){this.shapes.push(new n.default("LgTriA",this.unit,"rgb(230, 30, 70)")),this.shapes.push(new n.default("LgTriB",this.unit,"rgb(235, 200, 45)")),this.shapes.push(new n.default("SmTriA",this.unit/2,"rgb(85, 70, 180)")),this.shapes.push(new n.default("SmTriB",this.unit/2,"rgb(220, 130, 180)")),this.shapes.push(new n.default("MdTri",this.unit*Math.SQRT2/2,"rgb(25, 150, 225)")),this.shapes.push(new a.default("Square",this.unit,"rgb(100, 200, 165)")),this.shapes.push(new i.default("Parallel",this.unit,"rgb(140, 200, 50)"))},e.prototype.getShapeIndex=function(t){var e=null;return this.shapes.forEach(function(n,a){n.name===t&&(e=a)}),e},e.prototype.animRotShape=function(t,e){void 0===e&&(e=300),t.forEach(function(t){var n=t.rotPos-t.shape.rotationPos<0?8+t.rotPos-t.shape.rotationPos:t.rotPos-t.shape.rotationPos,a=45*n,i={theta:0},o=0;new s.Tween(i).to({theta:r(a)},e).easing(s.Easing.Quadratic.Out).on("update",function(){t.shape.rotate(i.theta-o),o=i.theta}).on("complete",function(){for(var e=0;e<n;e++)t.shape.increaseRotPos()}).start()})},e.prototype.animMoveShape=function(e,n){e.forEach(function(e){var a=t({},e.shape.points.p1);new s.Tween(a).to(t({},e.point),n).easing(s.Easing.Quadratic.Out).on("update",function(){e.shape.moveTo({x:a.x,y:a.y})}).on("complete",function(){}).start()})},e.prototype.animFlipShape=function(e,n){var a=this;void 0===n&&(n=300),this.isAnimating=!0,e.forEach(function(e){var i={value:-1},o={};for(var r in e.shape.points)o[r]=t({},e.shape.points[r]);new s.Tween(i).to({value:1},n).easing(s.Easing.Quadratic.Out).on("update",function(){e.shape.flip(i.value,o)}).on("complete",function(){a.isAnimating=!1;for(var t=(11-e.shape.rotationPos)%4*2,n=0;n<t;n++)e.shape.increaseRotPos();e.shape.isFlipped=!e.shape.isFlipped}).start()})},e.prototype.animateToShape=function(t){var e=this;this.disableEnableBtns();var n=this.canvas.width/2,a=this.canvas.height/2,i=[];t.forEach(function(t){i.push({shape:e.shapes[e.getShapeIndex(t.name)],point:{x:n+e.unit*t.x,y:a+e.unit*t.y},rotPos:t.rot})}),this.shapes.forEach(function(t){t.isFlipped&&e.animFlipShape([{shape:t}],200)}),setTimeout(function(){e.animRotShape(i,800),e.animMoveShape(i,800)},800/3),requestAnimationFrame(this.animate)},e.prototype.setInitialLayout=function(){this.animateToShape([{name:"LgTriA",x:-.5,y:-.5,rot:1},{name:"LgTriB",x:.5,y:-.5,rot:7},{name:"SmTriA",x:.5,y:0,rot:5},{name:"SmTriB",x:-.25,y:.25,rot:3},{name:"MdTri",x:.5,y:0,rot:8},{name:"Square",x:.25,y:-.25,rot:1},{name:"Parallel",x:-.25,y:.25,rot:1}])},e.prototype.setBunnyLayout=function(){this.animateToShape([{name:"LgTriA",x:0,y:0,rot:1},{name:"LgTriB",x:.5,y:.5,rot:8},{name:"SmTriA",x:-3.5/24,y:-.75,rot:6},{name:"SmTriB",x:-.5,y:-.75,rot:2},{name:"MdTri",x:0,y:.25,rot:8},{name:"Square",x:-1/3,y:-3/8,rot:2},{name:"Parallel",x:0,y:-.75,rot:2}])},e.prototype.setHorseLayout=function(){this.animateToShape([{name:"LgTriA",x:-17/24,y:0,rot:2},{name:"LgTriB",x:0,y:0,rot:1},{name:"SmTriA",x:-23/24,y:.25,rot:3},{name:"SmTriB",x:0,y:.75,rot:8},{name:"MdTri",x:-17/24,y:-8.5/24,rot:3},{name:"Square",x:0,y:0,rot:6},{name:"Parallel",x:.5,y:1,rot:3}])},e.prototype.setPersonLayout=function(){var t=[{name:"LgTriA",x:1/this.unit,y:0,rot:8},{name:"LgTriB",x:-.25,y:.25,rot:4},{name:"SmTriA",x:-1,y:1,rot:4},{name:"SmTriB",x:0,y:5/4,rot:5},{name:"MdTri",x:1/this.unit,y:.25,rot:1},{name:"Square",x:0,y:-1,rot:1},{name:"Parallel",x:-29/48,y:-5/48,rot:2}];this.animateToShape(t)},e.prototype.disableEnableBtns=function(){var t=document.querySelectorAll("button");t.forEach(function(t){t.disabled=!0}),setTimeout(function(){t.forEach(function(t){t.disabled=!1})},850)},e.prototype.drawObjects=function(){var t=this;this.shapes.forEach(function(e){e.draw(t.ctx)})},e}();function r(t){return t*Math.PI/180}exports.default=o;
},{"./BaseTriangle":"yglc","./Square":"Du5M","./Parallel":"cqiq","es6-tween":"XCsw"}],"B6dB":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("./objects/TanGame"));document.addEventListener("touchmove",function(e){e.preventDefault()},{passive:!1}),void 0!==window.orientation&&document.querySelector(".controls").classList.add("mobile");var n=document.getElementById("app"),r=new t.default(n,398);r.initGame(),window.onresize=function(){r.setCanvasSize(),r.ctx.clearRect(0,0,n.width,n.height),r.drawObjects()};var o=document.querySelector(".bunnyBtn"),u=document.querySelector(".squareBtn"),i=document.querySelector(".horseBtn"),c=document.querySelector(".personBtn");u.addEventListener("click",function(){return r.setInitialLayout()}),o.addEventListener("click",function(){return r.setBunnyLayout()}),i.addEventListener("click",function(){return r.setHorseLayout()}),c.addEventListener("click",function(){return r.setPersonLayout()});
},{"./objects/TanGame":"D6Wl"}]},{},["B6dB"], null)
//# sourceMappingURL=/tangram/src.22f1a4c8.js.map